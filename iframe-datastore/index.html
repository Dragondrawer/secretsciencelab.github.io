<html>
 <head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
 </head>
 <body>
  <script>
    // load from session storage
    var sessionData = window.sessionStorage.getItem("data");

    window.addEventListener("message", receiveMessage, false);

    function receiveMessage(event)
    {
      //console.log("origin: " + event.origin);  
      //console.log("source: " + event.source);  
      //console.log("data: " + event.data);

      // save to session storage
      window.sessionStorage.setItem("data", event.data);
      sessionData = event.data;

      parent.postMessage(JSON.stringify({
        "topic": "saved",
        "data": sessionData
      }), "*");
    }

    $(document).ready(function() {
      parent.postMessage(JSON.stringify({
        "topic": "ready",
        "data": sessionData
      }), "*");
    });

  </script>
 </body>
</html>
